(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{0:function(t,a,e){t.exports=e("56d7")},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var n=e("7a23");function _(t,a,e,_,o,i){var s=Object(n["W"])("enterPage");return Object(n["N"])(),Object(n["k"])(s)}var o=function(t){return Object(n["Q"])("data-v-2a796cb0"),t=t(),Object(n["O"])(),t},i=o((function(){return Object(n["n"])("br",null,null,-1)})),s=o((function(){return Object(n["n"])("br",null,null,-1)})),d=o((function(){return Object(n["n"])("br",null,null,-1)})),h=o((function(){return Object(n["n"])("br",null,null,-1)})),c=o((function(){return Object(n["n"])("br",null,null,-1)})),l=o((function(){return Object(n["n"])("br",null,null,-1)})),u=o((function(){return Object(n["n"])("br",null,null,-1)})),r=o((function(){return Object(n["n"])("br",null,null,-1)})),b=o((function(){return Object(n["n"])("br",null,null,-1)})),D=o((function(){return Object(n["n"])("br",null,null,-1)})),f=o((function(){return Object(n["n"])("br",null,null,-1)})),x=Object(n["p"])("透視裁切"),v=Object(n["p"])("銳利化"),B=Object(n["p"])("灑雜訊"),T=Object(n["p"])("去雜訊"),L=o((function(){return Object(n["n"])("br",null,null,-1)})),R=Object(n["p"])(" 結果 "),g=o((function(){return Object(n["n"])("br",null,null,-1)})),p=o((function(){return Object(n["n"])("br",null,null,-1)})),m={width:"4080",height:"3080",id:"result_canvas",ref:"result_canvas"},y=o((function(){return Object(n["n"])("br",null,null,-1)})),O=o((function(){return Object(n["n"])("br",null,null,-1)})),j=Object(n["p"])(" 畫布 "),P={width:"4080",height:"3080",id:"in_canvas",ref:"in_canvas"};function w(t,a,e,_,o,w){var X=this,Y=Object(n["W"])("a-button");return Object(n["N"])(),Object(n["m"])(n["b"],null,[Object(n["n"])("input",{type:"file",onChange:a[0]||(a[0]=function(){return w.insImgToBg&&w.insImgToBg.apply(w,arguments)}),accept:"image/*"},null,32),i,Object(n["p"])(" 左上 "+Object(n["ab"])(o.nodeData_L_T),1),s,Object(n["p"])(" 左下 "+Object(n["ab"])(o.nodeData_L_B),1),d,Object(n["p"])(" 右上 "+Object(n["ab"])(o.nodeData_R_T),1),h,Object(n["p"])(" 右下 "+Object(n["ab"])(o.nodeData_R_B),1),c,l,Object(n["p"])(" 左上P "+Object(n["ab"])(o.nodeData_L_T_P),1),u,Object(n["p"])(" 左下P "+Object(n["ab"])(o.nodeData_L_B_P),1),r,Object(n["p"])(" 右上P "+Object(n["ab"])(o.nodeData_R_T_P),1),b,Object(n["p"])(" 右下P "+Object(n["ab"])(o.nodeData_R_B_P),1),D,Object(n["n"])("div",{id:"box",class:"mainBox",onMousemove:a[5]||(a[5]=function(){return w.move&&w.move.apply(w,arguments)}),onMouseup:a[6]||(a[6]=function(t){X.status=null}),style:Object(n["D"])({width:o.canvas_width+"px",height:o.canvas_height+"px","background-image":"url("+o.img_file+")"})},[Object(n["n"])("div",{id:"node_L_T",onMousedown:a[1]||(a[1]=function(){return w.moveStart_L_T&&w.moveStart_L_T.apply(w,arguments)}),style:Object(n["D"])({left:o.nodeData_L_T.x+"px",top:o.nodeData_L_T.y+"px"}),class:"node"},null,36),Object(n["n"])("div",{id:"node_L_B",onMousedown:a[2]||(a[2]=function(){return w.moveStart_L_B&&w.moveStart_L_B.apply(w,arguments)}),style:Object(n["D"])({left:o.nodeData_L_B.x+"px",top:o.nodeData_L_B.y+"px"}),class:"node"},null,36),Object(n["n"])("div",{id:"node_R_T",onMousedown:a[3]||(a[3]=function(){return w.moveStart_R_T&&w.moveStart_R_T.apply(w,arguments)}),style:Object(n["D"])({left:o.nodeData_R_T.x+"px",top:o.nodeData_R_T.y+"px"}),class:"node"},null,36),Object(n["n"])("div",{id:"node_R_B",onMousedown:a[4]||(a[4]=function(){return w.moveStart_R_B&&w.moveStart_R_B.apply(w,arguments)}),style:Object(n["D"])({left:o.nodeData_R_B.x+"px",top:o.nodeData_R_B.y+"px"}),class:"node"},null,36)],36),f,Object(n["q"])(Y,{onClick:w.moveEnd},{default:Object(n["kb"])((function(){return[x]})),_:1},8,["onClick"]),Object(n["q"])(Y,{onClick:w.doSharp},{default:Object(n["kb"])((function(){return[v]})),_:1},8,["onClick"]),Object(n["q"])(Y,{onClick:w.doNoise},{default:Object(n["kb"])((function(){return[B]})),_:1},8,["onClick"]),Object(n["q"])(Y,{onClick:w.deNoise},{default:Object(n["kb"])((function(){return[T]})),_:1},8,["onClick"]),L,R,g,p,Object(n["n"])("canvas",m,null,512),y,O,j,Object(n["n"])("canvas",P,null,512)],64)}e("d3b7"),e("3ca3"),e("ddb0"),e("2b3d"),e("9861"),e("4e82");var X=null,Y=null,I=null,M=null,k=[null,null,null,null,null,null,null,null],S={data:function(){return{canvas_width:500,canvas_height:500,canvas_data:null,img_file:null,status:null,nodeData_L_T:{x:10,y:10},nodeData_L_B:{x:10,y:300},nodeData_R_T:{x:300,y:10},nodeData_R_B:{x:300,y:300},nodeData_L_T_P:{x:10,y:10},nodeData_L_B_P:{x:10,y:300},nodeData_R_T_P:{x:300,y:10},nodeData_R_B_P:{x:300,y:300},select_box:"",startX_L_T:null,startY_L_T:null,startX_L_B:null,startY_L_B:null,startX_R_T:null,startY_R_T:null,startX_R_B:null,startY_R_B:null,nodeX:null,nodeY:null,boxWidth:600,boxHeight:500,boxX:null,boxY:null,img:null}},mounted:function(){var t=document.getElementById("box");this.boxX=t.clientLeft,this.boxY=t.clientTop},methods:{insImgToBg:function(t){this.img_file=URL.createObjectURL(t.target.files[0]),X=document.querySelector("#in_canvas"),Y=document.querySelector("#result_canvas"),I=X.getContext("2d"),M=Y.getContext("2d");var a=new Image;a.src=this.img_file;var e=this;a.onload=function(){e.canvas_width=a.width,e.canvas_height=a.height,I.clearRect(0,0,4080,3080),I.drawImage(a,0,0)}},moveStart_L_T:function(t){if(t.target.id){this.select_box="node_L_T",this.status="move",this.startX_L_T=t.clientX,this.startY_L_T=t.clientY;var a=document.getElementById("node_L_T");this.nodeX_L_T=a.offsetLeft,this.nodeY_L_T=a.offsetTop}},moveStart_L_B:function(t){if(t.target.id){this.select_box="node_L_B",this.status="move",this.startX_L_B=t.clientX,this.startY_L_B=t.clientY;var a=document.getElementById("node_L_B");this.nodeX_L_B=a.offsetLeft,this.nodeY_L_B=a.offsetTop}},moveStart_R_T:function(t){if(t.target.id){this.select_box="node_R_T",this.status="move",this.startX_R_T=t.clientX,this.startY_R_T=t.clientY;var a=document.getElementById("node_R_T");this.nodeX_R_T=a.offsetLeft,this.nodeY_R_T=a.offsetTop}},moveStart_R_B:function(t){if(t.target.id){this.select_box="node_R_B",this.status="move",this.startX_R_B=t.clientX,this.startY_R_B=t.clientY;var a=document.getElementById("node_R_B");this.nodeX_R_B=a.offsetLeft,this.nodeY_R_B=a.offsetTop}},move:function(t){"move"===this.status&&("node_L_T"==this.select_box?(this.nodeData_L_T.x=this.nodeX_L_T+(t.clientX-this.startX_L_T),this.nodeData_L_T.y=this.nodeY_L_T+(t.clientY-this.startY_L_T),this.nodeData_L_T.x<this.boxX&&(this.nodeData_L_T.x=this.boxX),this.nodeData_L_T.y<this.boxY&&(this.nodeData_L_T.y=this.boxY)):"node_L_B"==this.select_box?(this.nodeData_L_B.x=this.nodeX_L_B+(t.clientX-this.startX_L_B),this.nodeData_L_B.y=this.nodeY_L_B+(t.clientY-this.startY_L_B),this.nodeData_L_B.x<this.boxX&&(this.nodeData_L_B.x=this.boxX),this.nodeData_L_B.y<this.boxY&&(this.nodeData_L_B.y=this.boxY)):"node_R_T"==this.select_box?(this.nodeData_R_T.x=this.nodeX_R_T+(t.clientX-this.startX_R_T),this.nodeData_R_T.y=this.nodeY_R_T+(t.clientY-this.startY_R_T),this.nodeData_R_T.x<this.boxX&&(this.nodeData_R_T.x=this.boxX),this.nodeData_R_T.y<this.boxY&&(this.nodeData_R_T.y=this.boxY)):"node_R_B"==this.select_box&&(this.nodeData_R_B.x=this.nodeX_R_B+(t.clientX-this.startX_R_B),this.nodeData_R_B.y=this.nodeY_R_B+(t.clientY-this.startY_R_B),this.nodeData_R_B.x<this.boxX&&(this.nodeData_R_B.x=this.boxX),this.nodeData_R_B.y<this.boxY&&(this.nodeData_R_B.y=this.boxY)))},doSharp:function(){var t=I.getImageData(0,0,this.canvas_width,this.canvas_height),a=I.getImageData(0,0,this.canvas_width,this.canvas_height),e=I.getImageData(0,0,this.canvas_width,this.canvas_height);console.log(this.canvas_width,this.canvas_height);for(var n=1,_=1,o=null,i=0;i<t.data.length/4;i++)n>this.canvas_width&&(_++,n=1),1==_||1==n||n==this.canvas_width?(o=I.getImageData(n,_,1,1).data,a.data[4*i]=o[0],a.data[4*i+1]=o[1],a.data[4*i+2]=o[2],e.data[4*i]=o[0],e.data[4*i+1]=o[1],e.data[4*i+2]=o[2]):(o=I.getImageData(n-1,_-1,3,3).data,a.data[4*i]=4*o[16]-o[4]-o[12]-o[20]-o[28],a.data[4*i+1]=4*o[17]-o[5]-o[13]-o[21]-o[29],a.data[4*i+2]=4*o[18]-o[6]-o[14]-o[22]-o[30],e.data[4*i]=8*o[16]-o[4]-o[12]-o[20]-o[28]-o[0]-o[8]-o[24]-o[32],e.data[4*i+1]=8*o[17]-o[5]-o[13]-o[21]-o[29]-o[1]-o[9]-o[25]-o[33],e.data[4*i+2]=8*o[18]-o[6]-o[14]-o[22]-o[30]-o[2]-o[10]-o[26]-o[34]),t.data[4*i]=t.data[4*i]+e.data[4*i]*(a.data[4*i]/350),t.data[[4*i+1]]=t.data[[4*i+1]]+e.data[4*i+1]*(a.data[4*i+1]/350),t.data[[4*i+2]]=t.data[[4*i+2]]+e.data[4*i+2]*(a.data[4*i+2]/350),n++;M.clearRect(0,0,4080,3080),M.putImageData(t,0,0)},doNoise:function(){var t=I.getImageData(0,0,this.canvas_width,this.canvas_height),a=I.getImageData(0,0,this.canvas_width,this.canvas_height);!0,console.log(this.canvas_width,this.canvas_height);for(var e=1,n=1,_=0;_<t.data.length/4;_++){if(e>this.canvas_width&&(n++,e=1),1!=n&&1!=e&&e!=this.canvas_width){var o=Math.floor(4*Math.random());0==o?(a.data[4*_]=0,a.data[4*_+1]=0,a.data[4*_+2]=0):3==o&&(a.data[4*_]=255,a.data[4*_+1]=255,a.data[4*_+2]=255)}e++}M.clearRect(0,0,4080,3080),M.putImageData(a,0,0)},deNoise:function(){var t=M.getImageData(0,0,this.canvas_width,this.canvas_height),a=M.getImageData(0,0,this.canvas_width,this.canvas_height);!0,console.log(this.canvas_width,this.canvas_height);for(var e=1,n=1,_=null,o=0;o<t.data.length/4;o++){if(e>this.canvas_width&&(n++,e=1),1!=n&&1!=e&&e!=this.canvas_width){_=I.getImageData(e-1,n-1,3,3).data;var i=[];i[0]=_[0]+_[1]+_[2],i[1]=_[4]+_[5]+_[6],i[2]=_[8]+_[9]+_[10],i[3]=_[12]+_[13]+_[14],i[4]=_[16]+_[17]+_[18],i[5]=_[20]+_[21]+_[22],i[6]=_[24]+_[25]+_[26],i[7]=_[28]+_[29]+_[30],i[8]=_[32]+_[33]+_[34];var s=i.sort(),d=i.indexOf(s[4],1);a.data[4*o]=_[4*d],a.data[4*o+1]=_[4*d+1],a.data[4*o+2]=_[4*d+2]}e++}M.clearRect(0,0,4080,3080),M.putImageData(a,0,0)},moveEnd:function(){var t=[this.nodeData_R_T.x-this.nodeData_L_T.x,this.nodeData_R_B.x-this.nodeData_L_T.x,this.nodeData_R_T.x-this.nodeData_L_B.x,this.nodeData_R_B.x-this.nodeData_L_B.x],a=Math.min.apply(Math,t),e=[this.nodeData_R_B.y-this.nodeData_L_T.y,this.nodeData_R_B.y-this.nodeData_R_T.y,this.nodeData_L_B.y-this.nodeData_L_T.y,this.nodeData_L_B.y-this.nodeData_R_T.y],n=Math.min.apply(Math,e);this.nodeData_L_T_P.x=1,this.nodeData_L_T_P.y=1,this.nodeData_L_B_P.x=1,this.nodeData_L_B_P.y=1+n,this.nodeData_R_T_P.x=1+a,this.nodeData_R_T_P.y=1,this.nodeData_R_B_P.x=1+a,this.nodeData_R_B_P.y=1+n,M.width=a,M.height=n,M.clearRect(0,0,1980,1080);var _=I.getImageData(0,0,a,n);M.putImageData(_,0,0);var o=[[this.nodeData_L_T.x,this.nodeData_L_T_P.x,this.nodeData_L_T_P.y,this.nodeData_L_T_P.x*this.nodeData_L_T_P.y,1],[this.nodeData_L_B.x,this.nodeData_L_B_P.x,this.nodeData_L_B_P.y,this.nodeData_L_B_P.x*this.nodeData_L_B_P.y,1],[this.nodeData_R_T.x,this.nodeData_R_T_P.x,this.nodeData_R_T_P.y,this.nodeData_R_T_P.x*this.nodeData_R_T_P.y,1],[this.nodeData_R_B.x,this.nodeData_R_B_P.x,this.nodeData_R_B_P.y,this.nodeData_R_B_P.x*this.nodeData_R_B_P.y,1]],i=[[this.nodeData_L_T.y,this.nodeData_L_T_P.x,this.nodeData_L_T_P.y,this.nodeData_L_T_P.x*this.nodeData_L_T_P.y,1],[this.nodeData_L_B.y,this.nodeData_L_B_P.x,this.nodeData_L_B_P.y,this.nodeData_L_B_P.x*this.nodeData_L_B_P.y,1],[this.nodeData_R_T.y,this.nodeData_R_T_P.x,this.nodeData_R_T_P.y,this.nodeData_R_T_P.x*this.nodeData_R_T_P.y,1],[this.nodeData_R_B.y,this.nodeData_R_B_P.x,this.nodeData_R_B_P.y,this.nodeData_R_B_P.x*this.nodeData_R_B_P.y,1]],s=[[o[0][0]*o[1][1]-o[1][0]*o[0][1],o[0][2]*o[1][1]-o[1][2]*o[0][1],o[0][3]*o[1][1]-o[1][3]*o[0][1],o[0][4]*o[1][1]-o[1][4]*o[0][1]],[o[1][0]*o[2][1]-o[2][0]*o[1][1],o[1][2]*o[2][1]-o[2][2]*o[1][1],o[1][3]*o[2][1]-o[2][3]*o[1][1],o[1][4]*o[2][1]-o[2][4]*o[1][1]],[o[2][0]*o[3][1]-o[3][0]*o[2][1],o[2][2]*o[3][1]-o[3][2]*o[2][1],o[2][3]*o[3][1]-o[3][3]*o[2][1],o[2][4]*o[3][1]-o[3][4]*o[2][1]]];s[0][1]<0&&(s[0][0]*=-1,s[0][1]*=-1,s[0][2]*=-1,s[0][3]*=-1),s[1][1]<0&&(s[1][0]*=-1,s[1][1]*=-1,s[1][2]*=-1,s[1][3]*=-1),s[2][1]<0&&(s[2][0]*=-1,s[2][1]*=-1,s[2][2]*=-1,s[2][3]*=-1);var d=[[s[0][0]*s[1][1]-s[1][0]*s[0][1],s[0][2]*s[1][1]-s[1][2]*s[0][1],s[0][3]*s[1][1]-s[1][3]*s[0][1]],[s[1][0]*s[2][1]-s[2][0]*s[1][1],s[1][2]*s[2][1]-s[2][2]*s[1][1],s[1][3]*s[2][1]-s[2][3]*s[1][1]]];d[0][1]<0&&(d[0][0]*=-1,d[0][1]*=-1,d[0][2]*=-1),d[1][1]<0&&(d[1][0]*=-1,d[1][1]*=-1,d[1][2]*=-1),k[3]=(d[0][0]*d[1][1]-d[1][0]*d[0][1])/(d[0][2]*d[1][1]-d[1][2]*d[0][1]),k[2]=(d[0][0]-d[0][2]*k[3])/d[0][1],k[1]=(s[0][0]-s[0][2]*k[2]-s[0][3]*k[3])/s[0][1],k[0]=(o[0][0]-o[0][2]*k[1]-o[0][3]*k[2]-o[0][4]*k[3])/o[0][1],s=[[i[0][0]*i[1][1]-i[1][0]*i[0][1],i[0][2]*i[1][1]-i[1][2]*i[0][1],i[0][3]*i[1][1]-i[1][3]*i[0][1],i[0][4]*i[1][1]-i[1][4]*i[0][1]],[i[1][0]*i[2][1]-i[2][0]*i[1][1],i[1][2]*i[2][1]-i[2][2]*i[1][1],i[1][3]*i[2][1]-i[2][3]*i[1][1],i[1][4]*i[2][1]-i[2][4]*i[1][1]],[i[2][0]*i[3][1]-i[3][0]*i[2][1],i[2][2]*i[3][1]-i[3][2]*i[2][1],i[2][3]*i[3][1]-i[3][3]*i[2][1],i[2][4]*i[3][1]-i[3][4]*i[2][1]]],s[0][1]<0&&(s[0][0]*=-1,s[0][1]*=-1,s[0][2]*=-1,s[0][3]*=-1),s[1][1]<0&&(s[1][0]*=-1,s[1][1]*=-1,s[1][2]*=-1,s[1][3]*=-1),s[2][1]<0&&(s[2][0]*=-1,s[2][1]*=-1,s[2][2]*=-1,s[2][3]*=-1),d=[[s[0][0]*s[1][1]-s[1][0]*s[0][1],s[0][2]*s[1][1]-s[1][2]*s[0][1],s[0][3]*s[1][1]-s[1][3]*s[0][1]],[s[1][0]*s[2][1]-s[2][0]*s[1][1],s[1][2]*s[2][1]-s[2][2]*s[1][1],s[1][3]*s[2][1]-s[2][3]*s[1][1]]],d[0][1]<0&&(d[0][0]*=-1,d[0][1]*=-1,d[0][2]*=-1),d[1][1]<0&&(d[1][0]*=-1,d[1][1]*=-1,d[1][2]*=-1),k[7]=(d[0][0]*d[1][1]-d[1][0]*d[0][1])/(d[0][2]*d[1][1]-d[1][2]*d[0][1]),k[6]=(d[0][0]-d[0][2]*k[7])/d[0][1],k[5]=(s[0][0]-s[0][2]*k[6]-s[0][3]*k[7])/s[0][1],k[4]=(i[0][0]-i[0][2]*k[5]-i[0][3]*k[6]-i[0][4]*k[7])/i[0][1];for(var h=1,c=1,l=1,u=1,r=M.getImageData(0,0,a,n),b=0;b<_.data.length/4;b++){h>a&&(c++,h=1),l=h*k[0]+c*k[1]+h*c*k[2]+k[3],u=h*k[4]+c*k[5]+h*c*k[6]+k[7];var D=parseInt(l)-1,f=parseInt(u)-1,x=I.getImageData(D,f,2,2).data,v=Math.pow(Math.pow(l-D,2)+Math.pow(u-f,2),.5),B=Math.pow(Math.pow(D+1-l,2)+Math.pow(u-f,2),.5),T=Math.pow(Math.pow(l-D,2)+Math.pow(f+1-u,2),.5),L=Math.pow(Math.pow(D+1-l,2)+Math.pow(f+1-u,2),.5),R=v+B+T+L;x[0],x[4],x[8],x[12],r.data[4*b]=(x[0]*((R-v)/R)+x[4]*((R-B)/R)+x[8]*((R-T)/R)+x[12]*((R-L)/R))/3,r.data[4*b+1]=(x[1]*((R-v)/R)+x[5]*((R-B)/R)+x[9]*((R-T)/R)+x[13]*((R-L)/R))/3,r.data[4*b+2]=(x[2]*((R-v)/R)+x[6]*((R-B)/R)+x[10]*((R-T)/R)+x[14]*((R-L)/R))/3,h++}M.putImageData(r,0,0)}}},C=(e("5a39"),e("6b0d")),E=e.n(C);const q=E()(S,[["render",w],["__scopeId","data-v-2a796cb0"]]);var N=q,W={components:{enterPage:N}};e("985a");const J=E()(W,[["render",_]]);var U=J,H=e("6c02"),Q=[],z=Object(H["a"])({history:Object(H["b"])(),routes:Q}),A=z,F=e("5502"),G=Object(F["a"])({state:{emp_no:"",emp_name:"",loc_id:""},getters:{},mutations:{},actions:{},modules:{}}),K=(e("7dd6"),e("f23d")),V=(e("202f"),e("aebf")),Z=(e("1465"),e("bc3a")),$=e.n(Z),tt=e("130e"),at=(e("9c88"),e("df25"),e("0808"),e("c71c"));Object(n["j"])(U).use(G).use(A).use(K["a"]).use(at["a"]).use(tt["a"],$.a).component("Datepicker",V["a"]).mount("#app")},"5a39":function(t,a,e){"use strict";e("ea2e")},"985a":function(t,a,e){"use strict";e("c75e")},"9c88":function(t,a,e){},c75e:function(t,a,e){},df25:function(t,a,e){},ea2e:function(t,a,e){}}]);
//# sourceMappingURL=chunk-common.a3bf7ff9.js.map